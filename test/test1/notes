var Web3 = require('web3');
var web3 = new Web3('ws://raspberrypi.lan:8546');
function watch() {
    console.log('Started subscription')
    var subscription = web3.eth.subscribe('pendingTransactions', function(error, result){
        console.log(error,result);
    }).on("data", function(transaction){
        let tx = web3.eth.getTransaction(transaction);
        console.log(`data event ${transaction} to ${tx.to}`);
    });  
}
watch();